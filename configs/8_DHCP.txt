BÆ°á»›c 1 
I. Cáº¤U HÃŒNH DHCP SERVER TRÃŠN LINUX (EVE-NG)
B1:CÃ i DHCP Server
sudo apt update
sudo apt install isc-dhcp-server -y
B2:Chá»‰ Ä‘á»‹nh interface DHCP láº¯ng nghe
Má»Ÿ file:
sudo nano /etc/default/isc-dhcp-server

INTERFACESv4="ens3"
ğŸ“Œ eth0 lÃ  card ná»‘i vÃ o máº¡ng 10.10.40.0/24
B3:Cáº¥u hÃ¬nh DHCP cho NHIá»€U VLAN
sudo nano /etc/dhcp/dhcpd.conf
default-lease-time 600;
max-lease-time 7200;
authoritative;
# VLAN 10
subnet 10.10.10.0 netmask 255.255.255.0 {
  range 10.10.10.100 10.10.10.200;
  option routers 10.10.10.1;
  option subnet-mask 255.255.255.0;
  option domain-name-servers 8.8.8.8, 1.1.1.1;
}
# VLAN 20
subnet 10.10.20.0 netmask 255.255.255.0 {
  range 10.10.20.100 10.10.20.200;
  option routers 10.10.20.1;
  option subnet-mask 255.255.255.0;
  option domain-name-servers 8.8.8.8, 1.1.1.1;
}
# VLAN 30
subnet 10.10.30.0 netmask 255.255.255.0 {
 range 10.10.30.100 10.10.30.200;
 option routers 10.10.30.1;
 option subnet-mask 255.255.255.0;
 option domain-name-servers 8.8.8.8, 1.1.1.1;
}
# Subnet cá»§a DHCP Server (Báº®T BUá»˜C)
subnet 10.10.40.0 netmask 255.255.255.0 {
}
KhÃ´ng cáº§n range, chá»‰ Ä‘á»ƒ DHCP server há»£p lá»‡ subnet
II. Cáº¤U HÃŒNH NETPLAN ÄÃšNG â€“ CHUáº¨N â€“ á»”N Äá»ŠNH
etc/netplan/00
ğŸ‘‰ DÃ™NG Cáº¤U HÃŒNH NÃ€Y, khÃ´ng dÃ¹ng gateway4 ná»¯a.
network:
  version: 2
  ethernets:
    ens3:
      dhcp4: no
      addresses:
        - 10.10.40.254/24
      routes:
        - to: default
          via: 10.10.40.1
      nameservers:
        addresses:
          - 8.8.8.8
          - 1.1.1.1

Apply láº¡i:
sudo netplan generate
sudo netplan apply
III. CHECK NGAY SAU KHI APPLY (Báº®T BUá»˜C)
B1:Kiá»ƒm tra IP
ip addr show ens3
âœ”ï¸ Pháº£i tháº¥y 10.10.40.254/24

B2:Kiá»ƒm tra default route (QUAN TRá»ŒNG NHáº¤T)
ip route
âœ”ï¸ Pháº£i cÃ³:
default via 10.10.40.1 dev ens3
âŒ Náº¿u KHÃ”NG cÃ³ â†’ KHÃ”NG BAO GIá»œ ping Ä‘Æ°á»£c 8.8.8.8
B3: Test ping theo thá»© tá»±
ping 10.10.40.1
ping 8.8.8.8
B4: Khá»Ÿi Ä‘á»™ng DHCP Server

sudo dhcpd -t -cf /etc/dhcp/dhcpd.conf
sudo systemctl restart isc-dhcp-server
sudo systemctl status isc-dhcp-server

âœ”ï¸ Pháº£i tháº¥y active (running)

B5: Kiá»ƒm tra log (ráº¥t quan trá»ng)
sudo journalctl -u isc-dhcp-server -f
B6: Khi PC xin IP báº¡n sáº½ tháº¥y:
DHCPDISCOVER from xx:xx:xx via 10.10.10.1
DHCPOFFER on 10.10.10.101


BÆ°á»›c 2 lÃªn Core-switch1
Enable
Config terminal
Int vlan 10
Ip helper-address 10.10.40.254
Exit
Int vlan 20
Ip helper-address 10.10.40.254
Exit
Int vlan 30
Ip helper-address 10.10.40.254
Exit
BÆ°á»›c 3 lÃªn cÃ¡c PC báº­t dá»‹ch vá»¥ DHCP
